# 使用指南

## 界面说明

### 游戏设置页面

1. **语言选择**
   - 右上角下拉菜单
   - 支持11种语言实时切换

2. **游戏模式**
   - 人人对战：两个玩家轮流下棋
   - 人机对战：玩家（白方）vs AI（黑方）
   - AI对战：观看两个AI对弈

3. **时间控制**
   - 5分钟：快速对局
   - 10分钟：标准对局（默认）
   - 15分钟：慢速对局

4. **AI选择**（人机/AI对战模式）
   - ChatGPT 20B：平衡型
   - Meta Llama4 17B：进攻型
   - Gemma 3 12B：稳健型
   - QwQ 32B：策略型
   - Deepseek 32B：推荐，综合能力强

### 游戏界面

#### PC端布局（宽屏）
\`\`\`
┌──────────────────┬──────────────┐
│                  │ 白方信息     │
│                  │ ⏱ 10:00      │
│                  ├──────────────┤
│                  │ 黑方信息     │
│     棋盘         │ ⏱ 10:00      │
│                  ├──────────────┤
│   8x8网格        │ 行棋历史     │
│                  │ 1. e4        │
│                  │ 1... e5      │
│                  │ 2. Nf3       │
└──────────────────┴──────────────┘
     新游戏  认输
\`\`\`

#### 移动端布局
\`\`\`
┌──────────────────┐
│  白方信息 10:00  │
├──────────────────┤
│  黑方信息 10:00  │
├──────────────────┤
│                  │
│      棋盘        │
│                  │
├──────────────────┤
│   行棋历史       │
│   1. e4          │
│   1... e5        │
└──────────────────┘
```

## 如何下棋

### 人类玩家

1. **选择棋子**
   - 点击你的棋子
   - 方格会高亮显示
   - 可能的移动位置会显示小圆点

2. **移动棋子**
   - 点击目标位置
   - 如果合法，棋子会移动
   - 如果非法，会提示"Invalid Move"

3. **取消选择**
   - 再次点击已选中的棋子

4. **特殊移动**
   - **王车易位**: 点击王，然后点击目标位置
   - **吃过路兵**: 自动处理
   - **升变**: 兵到达底线自动升变为后

### AI玩家

- AI会在2秒后自动行棋
- 看到"AI is thinking..."表示正在计算
- AI移动后会更新棋盘和历史

## 游戏功能

### 计时系统

- **实时倒计时**: 每秒更新
- **时间扣除**: 每步棋扣除思考时间
- **低时间警告**: 少于60秒时红色闪烁
- **超时判负**: 时间耗尽则输

### 行棋历史

- **自动记录**: 每步棋都会记录
- **格式**: 标准代数记谱法（SAN）
  - `e4` - 兵移动
  - `Nf3` - 马移动
  - `Qxd5` - 后吃子
  - `O-O` - 王翼易位
  - `O-O-O` - 后翼易位
- **时间记录**: 显示每步后的剩余时间
- **自动滚动**: 总是显示最新移动

### 游戏结果

游戏结束时会显示：
- **白方获胜** - 绿色背景
- **黑方获胜** - 蓝色背景  
- **和棋** - 黄色背景

结束原因：
- 将死
- 超时
- 认输
- 僵局（stalemate）
- 三次重复
- 50步规则
- 子力不足

## 游戏模式详解

### 人人对战

**适合**：
- 两个玩家在同一设备
- 线下对弈
- 教学演示

**流程**：
1. 选择"人人对战"
2. 选择时间控制
3. 点击"开始游戏"
4. 白方先行，轮流下棋

### 人机对战

**适合**：
- 单人练习
- 学习国际象棋
- 测试AI水平

**流程**：
1. 选择"人机对战"
2. 选择AI模型（推荐Deepseek 32B）
3. 选择时间控制
4. 点击"开始游戏"
5. 你是白方，先行

**提示**：
- 不同AI有不同风格
- 尝试不同AI找到合适的对手
- AI会在2秒后回应你的移动

### AI对战

**适合**：
- 观赏AI对弈
- 学习开局和策略
- 娱乐

**流程**：
1. 选择"AI对战"
2. 为白方选择AI模型
3. 为黑方选择AI模型
4. 选择时间控制（建议5分钟快速观看）
5. 点击"开始游戏"
6. 坐下来观看！

**提示**：
- 选择不同的AI可以看到不同的风格对抗
- AI每2秒行棋一次
- 可以随时查看行棋历史

## 控制按钮

### 新游戏
- 结束当前游戏
- 返回游戏设置页面
- 可以开始新的对局

### 认输
- 人类玩家可以认输
- AI玩家不会认输
- 确认后立即结束游戏

## 技巧和建议

### 对于初学者

1. **从人机对战开始**
   - 选择较弱的AI（如Gemma 3 12B）
   - 慢慢提高难度

2. **观看AI对战**
   - 学习开局
   - 观察中局策略
   - 了解残局技巧

3. **查看行棋历史**
   - 回顾每步棋
   - 分析时间管理

### 对于高级玩家

1. **挑战强AI**
   - Deepseek 32B提供最强对抗
   - QwQ 32B擅长策略

2. **时间管理**
   - 注意计时器
   - 平衡时间和质量

3. **多语言切换**
   - 练习其他语言的术语

## 常见问题

### Q: 棋子不能移动？
A: 确保：
- 轮到你了（玩家信息有高亮）
- 移动是合法的
- 不是AI正在思考

### Q: 如何升变？
A: 兵到达底线会自动升变为后（目前版本）

### Q: 如何王车易位？
A: 点击王，然后点击易位后的王位置

### Q: AI下棋太慢？
A: AI固定2秒间隔，这是设计特性

### Q: 游戏刷新后还在吗？
A: 是的，游戏状态会保存，但需要记住游戏ID

### Q: 可以悔棋吗？
A: 当前版本不支持悔棋

### Q: 如何提和？
A: 当前版本通过僵局等自动和棋，协议和棋待实现

## 国际象棋规则提示

### 特殊规则

1. **王车易位**
   - 王和车都没移动过
   - 之间没有棋子
   - 王不在被将军
   - 王经过的格子不被攻击

2. **吃过路兵**
   - 对方兵刚从起始位置走两格
   - 你的兵在其旁边
   - 立即吃掉它

3. **升变**
   - 兵到达对方底线
   - 可升变为后、车、象、马
   - 通常升变为后

### 胜负判定

- **将死**: 王被将军且无法逃脱
- **认输**: 主动认输
- **超时**: 时间用完

### 和棋判定

- **僵局**: 无子可动但王未被将军
- **三次重复**: 相同局面出现三次
- **50步规则**: 50步内无吃子或兵移动
- **子力不足**: 双方都无法将死对方
- **协议和棋**: 双方同意（待实现）

## 享受游戏！

AIChess祝你下棋愉快！🎉♟️

