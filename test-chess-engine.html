<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Chess Engine Test</title>
</head>
<body>
  <h1>Chess Engine Test</h1>
  <div id="test-results"></div>
  
  <script src="https://aichess.xants.workers.dev/chess-engine.js"></script>
  <script>
    setTimeout(() => {
      const results = document.getElementById('test-results');
      
      // Test 1: Chess引擎是否加载
      if (typeof Chess !== 'undefined') {
        results.innerHTML += '<p>✅ Chess引擎已加载</p>';
      } else {
        results.innerHTML += '<p>❌ Chess引擎未加载</p>';
        return;
      }
      
      // Test 2: 创建实例
      try {
        const chess = new Chess();
        results.innerHTML += '<p>✅ Chess实例创建成功</p>';
        
        // Test 3: board()方法
        if (typeof chess.board === 'function') {
          results.innerHTML += '<p>✅ chess.board是函数</p>';
          
          const board = chess.board();
          results.innerHTML += '<p>✅ chess.board()调用成功</p>';
          results.innerHTML += '<p>Board类型: ' + typeof board + '</p>';
          results.innerHTML += '<p>Board是数组: ' + Array.isArray(board) + '</p>';
          results.innerHTML += '<p>Board长度: ' + board.length + '</p>';
          
          // 显示棋盘第一行
          results.innerHTML += '<pre>' + JSON.stringify(board[0], null, 2) + '</pre>';
        } else {
          results.innerHTML += '<p>❌ chess.board不是函数，类型: ' + typeof chess.board + '</p>';
        }
        
        // Test 4: fen()方法
        if (typeof chess.fen === 'function') {
          results.innerHTML += '<p>✅ chess.fen()调用成功: ' + chess.fen() + '</p>';
        }
        
        // Test 5: turn属性
        results.innerHTML += '<p>✅ 当前回合: ' + chess.turn + '</p>';
        
      } catch (error) {
        results.innerHTML += '<p>❌ 错误: ' + error.message + '</p>';
        console.error(error);
      }
    }, 500);
  </script>
</body>
</html>

